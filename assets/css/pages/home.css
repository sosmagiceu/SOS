/* pages/home.css */

body[data-page='home'] .tm-carousel{
  margin-top:24px;
}

/* ============================= */
/* SOS MAGIC TITLE NEON SWEEP    */
/* ============================= */

.section-title{
  text-align: center;
}

/* Base title: always visible */
.section-title .sos-title{
  position: relative;
  display: inline-block;
  color: #ffffff;
  z-index: 1;
}

/* Neon scanner band */
.section-title .sos-title::after{
  content: "SOS MAGIC";
  position: absolute;
  inset: 0;
  pointer-events: none;

  background: linear-gradient(
    90deg,
    rgba(255,0,255,0) 0%,
    rgba(255,0,255,0) 40%,
    rgba(255,0,255,1) 47%,
    rgba(0,255,255,1) 53%,
    rgba(0,255,255,0) 60%,
    rgba(0,255,255,0) 100%
  );
  background-size: 260% 100%;
  background-position: -120% 50%;

  color: transparent;
  -webkit-text-fill-color: transparent;
  -webkit-background-clip: text;
  background-clip: text;

  opacity: 0;
  z-index: 2;
  animation: sosNeonSweep 5s linear infinite;
}

@keyframes sosNeonSweep{
  0%, 39%{
    opacity: 0;
    background-position: -120% 50%;
  }
  40%{
    opacity: 1;
  }
  60%{
    opacity: 1;
    background-position: 120% 50%;
  }
  61%, 100%{
    opacity: 0;
  }
}

/* Kill any old broken sweep attempts */
.section-title.neon-sweep::after{
  display:none !important;
}

/* =========================================================
   HOME 3D CAROUSEL TYPOGRAPHY + STRUCTURE
   ========================================================= */

body[data-page="home"] .feature-title-3d{
  font-family: "Cormorant SC", serif;
  text-align: center;
}

body[data-page="home"] .feature-description-3d{
  font-family: "Montserrat", sans-serif;
  text-align: center;
}

body[data-page="home"] .guide-btn{
  font-family: "Cormorant SC", serif;
}

/* Card layout */
body[data-page="home"] .feature-card-3d{
  position: relative;
  display: flex;
  flex-direction: column;
  text-align: center;
  align-items: center;
}

/* Top third */
body[data-page="home"] .feature-title-3d{
  flex: 1 1 0;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0;
  width: 100%;
}

/* Middle third */
body[data-page="home"] .feature-description-3d{
  flex: 1 1 0;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0;
  width: 100%;
}

/* Button baseline (geometry only) */
body[data-page="home"] .guide-btn{
  flex: 0 0 auto;
  margin-top: auto;
  margin-bottom: 10px;

  position: relative;
  z-index: 2;

  padding: 10px 18px;
  border-radius: 8px;

  display: inline-flex;
  align-items: center;
  justify-content: center;
  white-space: nowrap;

  background: transparent;
  border: none;
  box-shadow: none;
}

/* =========================================================
   REAL CUT-OUT (MODERN BROWSERS)
   ========================================================= */

@supports (-webkit-mask-composite: xor) or (mask-composite: exclude) {

  body[data-page="home"] .feature-card-3d{
    --hole-x: 50%;
    --hole-y: calc(100% - 28px);
    --hole-w: 160px;
    --hole-h: 44px;

    -webkit-mask:
      linear-gradient(#000 0 0),
      radial-gradient(
        ellipse var(--hole-w) var(--hole-h)
        at var(--hole-x) var(--hole-y),
        transparent 99%,
        #000 100%
      );
    -webkit-mask-composite: xor;
    mask-composite: exclude;
  }
}

/* =========================================================
   FALLBACK (NO MASK SUPPORT)
   ========================================================= */
/* Simulates a hole by matching the page background exactly */

@supports not ((-webkit-mask-composite: xor) or (mask-composite: exclude)) {

  body[data-page="home"] .guide-btn{
    background: var(--page-bg, #000) !important;
    border-radius: 8px;
  }
}

/* OPTIONAL: define page background variable once */
body{
  --page-bg: #000;
}
